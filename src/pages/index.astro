---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.tsx';
import TranslationForm from '../components/TranslationForm.tsx';
import TranslationResult from '../components/TranslationResult.tsx';
import HistoryList from '../components/HistoryList.tsx';
---

<Layout title="Bahasa Inggrisnya... - Inglify" description="Terjemahkan teks Anda ke bahasa Inggris dengan berbagai gaya dan nada yang sesuai dengan konteks">
	<main class="min-h-screen bg-gray-900 text-white relative">
		<div class="container mx-auto px-4 py-8">
			<!-- Header -->
			<Header client:load />

			<!-- Translation Form -->
			<TranslationForm client:load />
			
			<!-- Translation Results -->
			<TranslationResult client:load />
			
			<!-- History -->
			<HistoryList client:load />

			<!-- Footer -->
			<footer class="text-center mt-12 pt-8 border-t border-gray-700">
				<div class="flex flex-col items-center space-y-4">
					<div class="flex items-center space-x-1">
						<!-- <p class="text-gray-400 text-sm">
							Powered by <a href="https://ai.google.dev/" target="_blank" class="text-blue-400 hover:text-blue-300 transition-colors">Google Gemini AI</a>
						</p>
						<span class="text-gray-600">•</span> -->
						<p class="text-gray-400 text-sm">
							Built by <a href="https://rakhaviantoni.com" target="_blank" class="text-orange-400 hover:text-orange-300 transition-colors">Rakha Viantoni</a>
						</p>
					</div>
					<div class="text-xs text-gray-500">
						© 2025 Inglify. Made with ❤️ for Indonesian learners.
					</div>
				</div>
			</footer>
		</div>
	</main>
</Layout>

<script>
	import { SUPPORTED_LANGUAGES } from '../types/translation';
	
	// Update page title based on selected language
	const targetLanguageSelect = document.getElementById('target-language') as HTMLSelectElement;
	const pageTitle = document.getElementById('page-title') as HTMLHeadingElement;
	
	if (targetLanguageSelect && pageTitle) {
		targetLanguageSelect.addEventListener('change', (e) => {
			const target = e.target as HTMLSelectElement;
			const selectedLang = SUPPORTED_LANGUAGES.find(lang => lang.code === target.value);
			
			if (selectedLang) {
				pageTitle.textContent = `Bahasa ${selectedLang.label}nya...`;
				document.title = `Bahasa ${selectedLang.label}nya... - Inglify`;
			}
		});
	}
</script>
